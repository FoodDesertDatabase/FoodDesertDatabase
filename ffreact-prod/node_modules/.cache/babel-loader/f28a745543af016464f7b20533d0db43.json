{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\src\\\\Households\\\\AllergiesList.js\";\nimport { Fragment } from \"react\";\nimport { useState, useEffect } from 'react';\nimport DisplayMessage from '../DisplayMessage.js';\nimport React from 'react';\n\n// Allergy List Component\nvar AllergiesList = function AllergiesList(props) {\n  var _useState = useState(props.allergies),\n    _useState2 = _slicedToArray(_useState, 2),\n    allergies = _useState2[0],\n    setAllergies = _useState2[1];\n  var _useState3 = useState({\n      aType: ''\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currAllergy = _useState4[0],\n    setCurrAllergy = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    displayMsgComponent = _useState6[0],\n    setDisplayMsgComponent = _useState6[1];\n  var _useState7 = useState(props.isEditable),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isEditable = _useState8[0],\n    setIsEditable = _useState8[1];\n  useEffect(function () {\n    setAllergies(props.allergies);\n  }, [props.allergies]);\n\n  // Callback function that updates the allergy object currently being edited\n  // Takes input change event information (name, type, and value of input field)\n  // Returns none\n  var handleAllergyChange = function handleAllergyChange(event) {\n    // Get the name and value of the changed field\n    var fieldName = event.target.getAttribute('name');\n    var fieldValue = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\n    // Create new household object before setting state\n    var newAllergy = _objectSpread({}, currAllergy);\n    newAllergy[fieldName] = fieldValue;\n    // Set state with new household object\n    setCurrAllergy(newAllergy);\n  };\n  var setAFlag = function setAFlag(allergyList) {\n    if (allergyList.length > 0) {\n      return ['a_flag', true];\n    } else {\n      return ['a_flag', false];\n    }\n  };\n  var handleAddAllergy = function handleAddAllergy(event) {\n    // Prevent refresh on form submit\n    event.preventDefault();\n    // Append this allergy to allergies list\n    var newAllergies = [].concat(_toConsumableArray(allergies), [currAllergy]);\n    setAllergies(newAllergies);\n    // Clear the allergy field\n    setCurrAllergy({\n      a_type: ''\n    });\n    // Get key value for updating allergyFlag\n    var ret = setAFlag(newAllergies);\n    // Batch updating the allergies and the allergy flag together\n    props.updateEditForm(['hh_allergies', ret[0]], [newAllergies, ret[1]]);\n  };\n  var handleDeleteAllergy = function handleDeleteAllergy(key) {\n    var allergyID = key;\n    var newAllergies = _toConsumableArray(allergies);\n    newAllergies.splice(allergyID, 1);\n    setAllergies(newAllergies);\n    var ret = setAFlag(newAllergies);\n    props.updateEditForm(['hh_allergies', ret[0]], [newAllergies, ret[1]]);\n  };\n  if (isEditable) {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, allergies.map(function (allergy, thisKey) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        key: thisKey,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 41\n        }\n      }, allergy.a_type), /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          handleDeleteAllergy(thisKey);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }\n      }, \"delete\"))));\n    }), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"a_type\",\n      type: \"text\",\n      onChange: handleAllergyChange,\n      value: currAllergy.a_type,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: handleAddAllergy,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }, \"Add\"))))));\n  } else {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, allergies.map(function (allergy, thisKey) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        key: thisKey,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 41\n        }\n      }, allergy.a_type)));\n    }))));\n  }\n};\nexport default AllergiesList;","map":{"version":3,"names":["Fragment","useState","useEffect","DisplayMessage","React","AllergiesList","props","allergies","setAllergies","aType","currAllergy","setCurrAllergy","displayMsgComponent","setDisplayMsgComponent","isEditable","setIsEditable","handleAllergyChange","event","fieldName","target","getAttribute","fieldValue","type","checked","value","newAllergy","setAFlag","allergyList","length","handleAddAllergy","preventDefault","newAllergies","a_type","ret","updateEditForm","handleDeleteAllergy","key","allergyID","splice","map","allergy","thisKey"],"sources":["C:/Users/mcnee/OneDrive/Desktop/fft/ffreact-prod/src/Households/AllergiesList.js"],"sourcesContent":["import { Fragment } from \"react\";\r\nimport { useState, useEffect } from 'react';\r\nimport DisplayMessage from '../DisplayMessage.js'\r\nimport React from 'react'\r\n\r\n// Allergy List Component\r\nconst AllergiesList = (props) => {\r\n    const [allergies, setAllergies] = useState(props.allergies);\r\n    const [currAllergy, setCurrAllergy] = useState({aType: ''});\r\n    const [displayMsgComponent, setDisplayMsgComponent] = useState(null);\r\n    const [isEditable, setIsEditable] = useState(props.isEditable);\r\n\r\n    useEffect( () => {\r\n        setAllergies(props.allergies);\r\n    }, [props.allergies]); \r\n\r\n    // Callback function that updates the allergy object currently being edited\r\n    // Takes input change event information (name, type, and value of input field)\r\n    // Returns none\r\n    const handleAllergyChange = (event) => {\r\n        // Get the name and value of the changed field\r\n        const fieldName = event.target.getAttribute('name');\r\n        const fieldValue = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\r\n        // Create new household object before setting state\r\n        const newAllergy = {...currAllergy};\r\n        newAllergy[fieldName] = fieldValue;\r\n        // Set state with new household object\r\n        setCurrAllergy(newAllergy);\r\n    }\r\n\r\n    const setAFlag = (allergyList) => {\r\n        if (allergyList.length > 0) {\r\n            return ['a_flag', true];\r\n        }\r\n        else {\r\n            return ['a_flag', false];\r\n        }\r\n    }\r\n\r\n    const handleAddAllergy = (event) => {\r\n        // Prevent refresh on form submit\r\n        event.preventDefault();\r\n        // Append this allergy to allergies list\r\n        const newAllergies =  [...allergies, currAllergy];\r\n        setAllergies(newAllergies);\r\n        // Clear the allergy field\r\n        setCurrAllergy({a_type: ''});\r\n        // Get key value for updating allergyFlag\r\n        const ret = setAFlag(newAllergies);\r\n        // Batch updating the allergies and the allergy flag together\r\n        props.updateEditForm(['hh_allergies', ret[0]], [newAllergies, ret[1]]);\r\n    }\r\n\r\n    const handleDeleteAllergy = (key) => {\r\n        const allergyID = key; \r\n        let newAllergies = [...allergies];\r\n        newAllergies.splice(allergyID, 1);\r\n        setAllergies(newAllergies);\r\n        const ret = setAFlag(newAllergies);\r\n        props.updateEditForm(['hh_allergies', ret[0]], [newAllergies, ret[1]]);\r\n    }\r\n\r\n    if (isEditable) {\r\n        return (\r\n            <Fragment>\r\n                <table>  \r\n                    <tbody>\r\n                        {/* Show a row for each allergy object in allergies */}\r\n                        {allergies.map((allergy, thisKey) => {\r\n                            return (\r\n                                <Fragment>\r\n                                    <tr key={thisKey}>\r\n                                        <td>\r\n                                            {allergy.a_type}\r\n                                        </td>\r\n                                        <td>\r\n                                            <button type='button' onClick={() => {handleDeleteAllergy(thisKey)}}>\r\n                                                delete\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </Fragment>\r\n                            );\r\n                        })}\r\n                        <tr>\r\n                            <td>\r\n                                <input name=\"a_type\" type=\"text\" onChange={handleAllergyChange} value={currAllergy.a_type}></input>\r\n                            </td>\r\n                            <td>\r\n                                <button type='button' onClick={handleAddAllergy}>\r\n                                    Add\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </Fragment>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <Fragment>\r\n                <table>\r\n                    <tbody>\r\n                        {/* Show a row for each allergy object in allergies */}\r\n                        {allergies.map((allergy, thisKey) => {\r\n                            return (\r\n                                <Fragment>\r\n                                    <tr key={thisKey}>\r\n                                        <td>\r\n                                            {allergy.a_type}\r\n                                        </td>\r\n                                    </tr>\r\n                                </Fragment>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </Fragment>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default AllergiesList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}