{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\mcnee\\\\OneDrive\\\\Desktop\\\\fft\\\\ffreact-prod\\\\src\\\\Ingredients\\\\EditableIngUsageTable.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nexport default function EditableIngUsageTable(props) {\n  var _this = this;\n  var _useState = useState({\n      used_date: null,\n      used_qty: null\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    currUsage = _useState2[0],\n    setCurrUsage = _useState2[1];\n  var _useState3 = useState(props.ingredient_usage),\n    _useState4 = _slicedToArray(_useState3, 2),\n    ingUsages = _useState4[0],\n    setIngUsages = _useState4[1]; // useEffect(()=>{\n  //   setIngUsages(props.editFormData.ingredient_usage);\n  // }, props.editFormData);\n  var handleKeyUsageChange = function handleKeyUsageChange(event) {\n    var key = event.target.getAttribute('dataKey');\n    var fieldName = event.target.getAttribute('name');\n    var fieldValue = event.target.value;\n    var newUsage = _objectSpread({}, ingUsages[key]);\n    newUsage[fieldName] = fieldValue;\n    var newIngUsages = _toConsumableArray(ingUsages);\n    console.log('eiut line18 ', key);\n    newIngUsages[key] = newUsage;\n    console.log('eiut line20 ', newIngUsages);\n    setIngUsages(newIngUsages);\n    props.updateEditForm('ingredient_usage', newIngUsages);\n  };\n  var handleUsageChange = function handleUsageChange(event) {\n    var fieldName = event.target.getAttribute('name');\n    var fieldValue = event.target.value;\n    var newUsage = _objectSpread({}, currUsage);\n    newUsage[fieldName] = fieldValue;\n    setCurrUsage(newUsage);\n  };\n  var handleAddUsage = function handleAddUsage(event) {\n    event.preventDefault();\n    var newUsages = [].concat(_toConsumableArray(ingUsages), [currUsage]);\n    setIngUsages(newUsages);\n    setCurrUsage({\n      used_date: '',\n      used_qty: ''\n    });\n    props.updateEditForm('ingredient_usage', newUsages);\n  };\n  var handleDeleteUsage = function handleDeleteUsage(thisKey) {\n    var newUsages = _toConsumableArray(ingUsages);\n    newUsages.splice(thisKey, 1);\n    setIngUsages(newUsages);\n    props.updateEditForm('ingredient_usage', newUsages);\n  };\n  if (ingUsages) {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, \"used date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, \"used qty\"), ingUsages.map(function (usage, thisKey) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        key: thisKey,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        dataKey: thisKey,\n        name: \"used_date\",\n        type: \"date\",\n        value: usage.used_date,\n        onChange: handleKeyUsageChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        dataKey: thisKey,\n        name: \"used_qty\",\n        value: usage.used_qty,\n        onChange: handleKeyUsageChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 35\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return handleDeleteUsage(thisKey);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 35\n        }\n      }, \"Delete\"))));\n    }), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"used_date\",\n      value: currUsage.used_date,\n      type: \"date\",\n      onChange: handleUsageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"used_qty\",\n      value: currUsage.used_qty,\n      onChange: handleUsageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: handleAddUsage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 27\n      }\n    }, \"Add\"))));\n  }\n}","map":{"version":3,"names":["React","useState","useEffect","Fragment","EditableIngUsageTable","props","used_date","used_qty","currUsage","setCurrUsage","ingredient_usage","ingUsages","setIngUsages","handleKeyUsageChange","event","key","target","getAttribute","fieldName","fieldValue","value","newUsage","newIngUsages","console","log","updateEditForm","handleUsageChange","handleAddUsage","preventDefault","newUsages","handleDeleteUsage","thisKey","splice","map","usage"],"sources":["C:/Users/mcnee/OneDrive/Desktop/fft/ffreact-prod/src/Ingredients/EditableIngUsageTable.js"],"sourcesContent":["import React, {useState, useEffect, Fragment} from 'react'\r\n\r\nexport default function EditableIngUsageTable(props) {\r\n    const [currUsage, setCurrUsage] = useState({used_date: null, used_qty: null});\r\n    const [ingUsages, setIngUsages] = useState(props.ingredient_usage);\r\n\r\n    // useEffect(()=>{\r\n    //   setIngUsages(props.editFormData.ingredient_usage);\r\n    // }, props.editFormData);\r\n    \r\n    const handleKeyUsageChange = (event) => {\r\n      const key = event.target.getAttribute('dataKey');\r\n      const fieldName = event.target.getAttribute('name');\r\n      const fieldValue = event.target.value;\r\n      let newUsage = {...ingUsages[key]};\r\n      newUsage[fieldName] = fieldValue;\r\n      let newIngUsages = [...ingUsages];\r\n      console.log('eiut line18 ', key);\r\n      newIngUsages[key] = newUsage;\r\n      console.log('eiut line20 ', newIngUsages);\r\n      setIngUsages(newIngUsages);\r\n      props.updateEditForm('ingredient_usage', newIngUsages);\r\n    }\r\n\r\n    const handleUsageChange = (event) => {\r\n      const fieldName = event.target.getAttribute('name');\r\n      const fieldValue = event.target.value;\r\n      const newUsage = {...currUsage};\r\n      newUsage[fieldName] = fieldValue;\r\n      setCurrUsage(newUsage);\r\n    }\r\n\r\n    const handleAddUsage = (event) => {\r\n      event.preventDefault();\r\n      const newUsages = [...ingUsages, currUsage];\r\n      setIngUsages(newUsages);\r\n      setCurrUsage({used_date: '', used_qty: ''});\r\n      props.updateEditForm('ingredient_usage', newUsages);\r\n    }\r\n\r\n    const handleDeleteUsage = (thisKey) => {\r\n        const newUsages = [...ingUsages];\r\n        newUsages.splice(thisKey, 1);\r\n        setIngUsages(newUsages);\r\n        props.updateEditForm('ingredient_usage', newUsages);\r\n    }\r\n\r\n    if (ingUsages) {\r\n        return (\r\n            <table>\r\n                    <th>used date</th>\r\n                    <th>used qty</th>\r\n                {ingUsages.map((usage, thisKey) => {\r\n                    return (\r\n                        <Fragment>\r\n                          <tr key={thisKey}>\r\n                              <td><input dataKey={thisKey} name=\"used_date\" type=\"date\" value={usage.used_date} onChange={handleKeyUsageChange}/></td>\r\n                              <td><input dataKey={thisKey} name=\"used_qty\" value={usage.used_qty} onChange={handleKeyUsageChange}/></td>\r\n                              <td><button onClick={() => handleDeleteUsage(thisKey)}>Delete</button></td>\r\n                          </tr>\r\n                        </Fragment>\r\n                        )\r\n                    })\r\n                }\r\n                    <tr>\r\n                      <td><input name=\"used_date\" value={currUsage.used_date} type=\"date\" onChange={handleUsageChange}/></td>\r\n                      <td><input name=\"used_qty\" value={currUsage.used_qty} onChange={handleUsageChange}/></td>\r\n                      <td><button onClick={handleAddUsage}>Add</button></td>\r\n                    </tr>\r\n            </table>\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}